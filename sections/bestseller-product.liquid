<!-- Bestsaler Product Start -->
<div class="container-fluid py-5">
  <div class="container py-5">
    {% assign collection = collections[section.settings.product_collection] %}
    <div class="text-center mx-auto mb-5" style="max-width: 700px;">
      <h1 class="display-4">{{ collection.title }}</h1>
      <p>{{ collection.description }}</p>
    </div>
    <div class="row g-4">
      {% for product in collection.products %}
        {% if forloop.index <= 6 %}
          <div class="col-lg-6 col-xl-4">
            <div class="p-4 rounded bg-light">
              <div class="row align-items-center">
                <div class="col-6">
                  <img
                    src="{{ product.featured_image | img_url: 'medium' }}"
                    class="img-fluid rounded-circle w-100"
                    alt="{{ product.title }} "
                    width="1200"
                    height="1200"
                  >
                </div>
                <div class="col-6">
                  <a href="{{ product.url }}" class="h5">{{ product.title }}</a>
                  <div class="d-flex my-3">
                    <div class="jdgm-widget jdgm-preview-badge" data-id="{{ product.id }}">
                      {{ product.metafields.judgeme.badge }}
                    </div>
                  </div>
                  <h4 class="mb-3">{{ product.price | money }}</h4>
                  <a
                    onclick="addToCart({{ product.selected_or_first_available_variant.id }})"
                    class="btn border border-secondary rounded-pill px-3 text-primary"
                    ><i class="fa fa-shopping-bag me-2 text-primary"></i> Add to cart</a
                  >
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <div class="col-md-6 col-lg-6 col-xl-3">
            <div class="text-center">
              <img
                src="{{ product.featured_image | img_url: 'medium' }}"
                class="img-fluid rounded"
                alt="{{ product.title }} "
                width="1200"
                height="1200"
              >
              <div class="py-4">
                <a href="{{ product.url }}" class="h5">{{ product.title }}</a>
                <div class="d-flex my-3 justify-content-center">
                  <div class="jdgm-widget jdgm-preview-badge" data-id="{{ product.id }}">
                    {{ product.metafields.judgeme.badge }}
                  </div>
                </div>
                <h4 class="mb-3">{{ product.price | money }}</h4>
                {% comment %}
                  <a
                    onclick="addToCart({{ product.selected_or_first_available_variant.id }})"
                    class="btn border border-secondary rounded-pill px-3 text-primary"
                    ><i class="fa fa-shopping-bag me-2 text-primary"></i> Add to cart</a
                  >
                {% endcomment %}
                {% assign product_form_id = 'quick-add-' | append: section_id | append: product.id %}
                {% if quick_add == 'standard' %}
                  <div class="quick-add no-js-hidden">
                    {%- liquid
                      assign qty_rules = false
                      if product.selected_or_first_available_variant.quantity_rule.min > 1 or product.selected_or_first_available_variant.quantity_rule.max != null or product.selected_or_first_available_variant.quantity_rule.increment > 1
                        assign qty_rules = true
                      endif
                    -%}
                    {%- if product.variants.size > 1 or qty_rules -%}
                      <modal-opener data-modal="#QuickAdd-{{ product.id }}">
                        <button
                          id="{{ product_form_id }}-submit"
                          type="submit"
                          name="add"
                          class="btn border border-secondary rounded-pill px-3 text-primary"
                          aria-haspopup="dialog"
                          aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product.id }}"
                          data-product-url="{{ product.url }}"
                        >
                          {{ 'products.product.choose_options' | t }}
                          {%- if horizontal_quick_add -%}
                            <span class="icon-wrap">{% render 'icon-arrow' %}</span>
                          {%- endif -%}
                          {%- render 'loading-spinner' -%}
                        </button>
                      </modal-opener>
                      <quick-add-modal id="QuickAdd-{{ product.id }}" class="quick-add-modal">
                        <div
                          role="dialog"
                          aria-label="{{ 'products.product.choose_product_options' | t: product_name: product.title | escape }}"
                          aria-modal="true"
                          class="quick-add-modal__content global-settings-popup"
                          tabindex="-1"
                        >
                          <button
                            id="ModalClose-{{ product.id }}"
                            type="button"
                            class="quick-add-modal__toggle"
                            aria-label="{{ 'accessibility.close' | t }}"
                          >
                            {% render 'icon-close' %}
                          </button>
                          <div id="QuickAddInfo-{{ product.id }}" class="quick-add-modal__content-info"></div>
                        </div>
                      </quick-add-modal>
                    {%- else -%}
                      <product-form data-section-id="{{ section.id }}">
                        {%- form 'product',
                          product,
                          id: product_form_id,
                          class: 'form',
                          novalidate: 'novalidate',
                          data-type: 'add-to-cart-form'
                        -%}
                          <input
                            type="hidden"
                            name="id"
                            value="{{ product.selected_or_first_available_variant.id }}"
                            class="product-variant-id"
                            {% if product.selected_or_first_available_variant.available == false %}
                              disabled
                            {% endif %}
                          >
                          <button
                            id="{{ product_form_id }}-submit"
                            type="submit"
                            name="add"
                            class="btn border border-secondary rounded-pill px-3 text-primary"
                            aria-haspopup="dialog"
                            aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product.id }}"
                            aria-live="polite"
                            data-sold-out-message="true"
                            {% if product.selected_or_first_available_variant.available == false %}
                              disabled
                            {% endif %}
                          >
                            <i class="fa fa-shopping-bag me-2 text-primary"></i>
                            <span>
                              {%- if product.selected_or_first_available_variant.available -%}
                                {{ 'products.product.add_to_cart' | t }}
                              {%- else -%}
                                {{ 'products.product.sold_out' | t }}
                              {%- endif -%}
                            </span>
                            <span class="sold-out-message hidden">
                              {{ 'products.product.sold_out' | t }}
                            </span>
                            {%- if horizontal_quick_add -%}
                              <span class="icon-wrap">{% render 'icon-plus' %}</span>
                            {%- endif -%}
                            {%- render 'loading-spinner' -%}
                          </button>
                        {%- endform -%}
                      </product-form>
                    {%- endif -%}
                  </div>
                {% elsif quick_add == 'bulk' %}
                  {% if product.variants.size == 1 %}
                    <quick-add-bulk
                      data-min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                      id="quick-add-bulk-{{ product.selected_or_first_available_variant.id }}-{{ section.id }}"
                      class="quick-add-bulk"
                      data-index="{{ product.selected_or_first_available_variant.id }}"
                    >
                      {% if product.selected_or_first_available_variant.available == false %}
                        <button
                          id="{{ product_form_id }}-submit"
                          type="submit"
                          name="add"
                          class="quick-add__submit button button--full-width button--secondary"
                          aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product.id }}"
                          data-sold-out-message="true"
                          disabled
                        >
                          <span>{{ 'products.product.sold_out' | t }}</span>
                          <span class="sold-out-message hidden">
                            {{ 'products.product.sold_out' | t }}
                          </span>
                        </button>
                      {% else %}
                        {% render 'quantity-input', variant: product.selected_or_first_available_variant, min: 0 %}
                      {% endif %}
                    </quick-add-bulk>
                  {% else %}
                    <div class="quick-add no-js-hidden">
                      {%- liquid
                        assign product_form_id = 'quick-add-' | append: section_id | append: product.id
                        assign qty_rules = false
                        if product.selected_or_first_available_variant.quantity_rule.min > 1 or product.selected_or_first_available_variant.quantity_rule.max != null or product.selected_or_first_available_variant.quantity_rule.increment > 1
                          assign qty_rules = true
                        endif
                      -%}
                      <modal-opener
                        id="QuickBulk-{{ product.id }}-{{ section_id }}"
                        data-modal="#QuickAddBulk-{{ product.id }}-{{ section.id }}"
                      >
                        <button
                          id="{{ product_form_id }}-submit"
                          type="submit"
                          name="add"
                          class="quick-add__submit button button--full-width button--secondary"
                          aria-haspopup="dialog"
                          aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product.id }}"
                          data-product-url="{{ product.url }}"
                        >
                          {{ 'products.product.choose_options' | t }}
                          {%- render 'loading-spinner' -%}
                        </button>
                      </modal-opener>
                      <modal-dialog
                        id="QuickAddBulk-{{ product.id }}-{{ section_id }}"
                        class="quick-add-modal color-{{ section.settings.color_scheme }}"
                      >
                        <div
                          role="dialog"
                          aria-label="{{ 'products.product.choose_product_options' | t: product_name: product.title | escape }}"
                          aria-modal="true"
                          class="quick-add-modal__content quick-add-modal__content--bulk global-settings-popup"
                          tabindex="-1"
                        >
                          <button
                            id="ModalClose-{{ product.id }}"
                            type="button"
                            class="quick-add-modal__toggle"
                            aria-label="{{ 'accessibility.close' | t }}"
                          >
                            {% render 'icon-close' %}
                          </button>
                          <div
                            id="QuickAddInfo-{{ product.id }}"
                            class="quick-add-modal__content-info quick-add-modal__content-info--bulk"
                          >
                            <div class="quick-add__content-info__media">
                              <div class="quick-add__info">
                                {%- if product.featured_media -%}
                                  <div
                                    class="quick-add__product-media"
                                  >
                                    <div class="quick-add__product-container global-media-settings">
                                      {% comment %}theme-check-disable ImgLazyLoading{% endcomment %}
                                      <img
                                        srcset="
                                          {%- if product.featured_media.width >= 165 -%}{{ product.featured_media | image_url: width: 165 }} 165w,{%- endif -%}
                                          {%- if product.featured_media.width >= 360 -%}{{ product.featured_media | image_url: width: 360 }} 360w,{%- endif -%}
                                          {%- if product.featured_media.width >= 533 -%}{{ product.featured_media | image_url: width: 533 }} 533w,{%- endif -%}
                                          {%- if product.featured_media.width >= 720 -%}{{ product.featured_media | image_url: width: 720 }} 720w,{%- endif -%}
                                          {%- if product.featured_media.width >= 940 -%}{{ product.featured_media | image_url: width: 940 }} 940w,{%- endif -%}
                                          {%- if product.featured_media.width >= 1066 -%}{{ product.featured_media | image_url: width: 1066 }} 1066w,{%- endif -%}
                                          {{ product.featured_media | image_url }} {{ product.featured_media.width }}w
                                        "
                                        src="{{ product.featured_media | image_url: width: 533 }}"
                                        sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 990px) calc((100vw - 130px) / 4), (min-width: 750px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
                                        alt="{{ product.featured_media.alt | escape }}"
                                        class="motion-reduce"
                                        {% unless lazy_load == false %}
                                          loading="lazy"
                                        {% endunless %}
                                        width="{{ product.featured_media.width }}"
                                        height="{{ product.featured_media.height }}"
                                      >
                                      {% comment %}theme-check-enable ImgLazyLoading{% endcomment %}
                                    </div>
                                  </div>
                                {%- endif -%}
                                <a
                                  {% if product == blank %}
                                    role="link" aria-disabled="true"
                                  {% else %}
                                    href="{{ product.url }}"
                                  {% endif %}
                                  class="link product__view-details animate-arrow small-hide medium-hide"
                                >
                                  {{ 'products.product.view_full_details' | t -}}
                                  {% render 'icon-arrow' %}
                                </a>
                              </div>
                              <div class="quick-add-modal__content-info--bulk-details large-up-hide">
                                <a href="{{ product.url }}" class="full-unstyled-link">
                                  <h3>{{ product.title | escape }}</h3>
                                </a>
                                {% render 'price',
                                  product: product,
                                  price_class: '',
                                  show_compare_at_price: true
                                %}
                                {%- if product.quantity_price_breaks_configured? -%}
                                  <div class="card__information-volume-pricing-note">
                                    <span class="caption">{{ 'products.product.volume_pricing.note' | t }}</span>
                                  </div>
                                {%- endif -%}
                              </div>
                            </div>
                            <div>
                              <div class="quick-add-modal__content-info--bulk-details small-hide medium-hide">
                                <a href="{{ product.url }}" class="full-unstyled-link">
                                  <h3 class="h2">
                                    {{ product.title | escape }}
                                  </h3>
                                </a>
                                {% render 'price',
                                  product: product,
                                  price_class: '',
                                  show_compare_at_price: true
                                %}
                                {%- if product.quantity_price_breaks_configured? -%}
                                  <div class="card__information-volume-pricing-note">
                                    <span class="caption">{{ 'products.product.volume_pricing.note' | t }}</span>
                                  </div>
                                {%- endif -%}
                              </div>
                              <bulk-modal
                                id="QuickBulkModal-{{ product.id }}-{{ section_id }}"
                                data-url="{{ product.url }}"
                                data-section-id="{{ section_id }}"
                                data-product-id="{{ product.id }}"
                              >
                              </bulk-modal>
                            </div>
                          </div>
                        </div>
                      </modal-dialog>
                    </div>
                  {% endif %}
                {% endif %}
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
<!-- Bestsaler Product End -->

{% schema %}
{
  "name": "Bestseller Products",
  "settings": [
    {
      "type": "collection",
      "id": "product_collection",
      "label": "Product Collection"
    }
  ]
}
{% endschema %}
